import streamlit as st
from streamlit_calendar import calendar

class CalendarApp:
    def __init__(self):
        self.calendar_options = {
            "editable": True,
            "selectable": True,
            "headerToolbar": {
                "left": "prev,next today",
                "center": "title",
                "right": "dayGridMonth,listMonth",
            },
            "slotMinTime": "06:00:00",
            "slotMaxTime": "18:00:00",
            "initialView": "dayGridMonth",
        }

        self.calendar_events = []

        # ìº˜ë¦°ë” ë°ì´í„° ì¶”ê°€
        calendar_data = {
            "12ì›”": {
                "1ì¼": ["í•˜ë‚˜ì†í•´ë³´í—˜ ì„œë¥˜"],
                "2ì¼": ["ê¸°ì—…ì€í–‰ ë©´ì ‘"],
                "3ì¼": ["êµ­ë¯¼ì€í–‰ ìµœì¢… í•©ê²©", "ì‹ í•œì€í–‰ 2ì°¨ ë©´ì ‘"],
                "4ì¼": ["ì˜ˆê¸ˆë³´í—˜ê³µì‚¬ ì¸í„´ ì„œë¥˜", "ìš°ë¦¬ìì‚°ìš´ìš© ì„œë¥˜"],
                "5ì¼": ["ìš°ì²´êµ­ê¸ˆìœµê°œë°œì› ì„œë¥˜", "ìš°ë¦¬ìì‚°ìš´ìš© 1ì°¨ ë©´ì ‘"],
                "6ì¼": ["ë†í˜‘ì€í–‰ 5ê¸‰ ê³µì±„", "ì‹ ìš©ë³´ì¦ì¬ë‹¨ì¤‘ì•™íšŒ ì„œë¥˜"],
                "7ì¼": ["ìš°ë¦¬ê¸ˆìœµìºí”¼íƒˆ í•„ê¸°", "ì „ì‚°ì„¸ë¬´íšŒê³„"],
                "8ì¼": [],
                "9ì¼": ["ë†í˜‘ì€í–‰ 2ì°¨ í•„ê¸°", "ì‹ ìš©ë³´ì¦ì¬ë‹¨ì¤‘ì•™íšŒ 2ì°¨ ë©´ì ‘"],
                "10ì¼": ["ì˜ˆê¸ˆë³´í—˜ê³µì‚¬ ì¸í„´ ë©´ì ‘", "ì‹ ìš©ë³´ì¦ì¬ë‹¨ì¤‘ì•™íšŒ ìµœì¢…"],
                "11ì¼": ["ê¸°ì—…ì€í–‰ í†µê³„ ì¸í„´ ì„œë¥˜"],
                "12ì¼": [],
                "13ì¼": ["AFPK ì‹œí—˜"],
                "14ì¼": ["ê²½ê¸°ì‹ ìš©ë³´ì¦ì¬ë‹¨ í•„ê¸°"],
                "15ì¼": ["êµë³´ì¦ê¶Œ ì¸í„´ ì„œë¥˜"],
                "16ì¼": ["ì˜ˆê¸ˆë³´í—˜ê³µì‚¬ ì¸í„´", "ì‹ ìš©ë³´ì¦ì¬ë‹¨ì¤‘ì•™íšŒ í•©ê²©"],
                "17ì¼": ["ìœ í†µê´€ë¦¬ì‚¬ 2ê¸‰ ì‹œí—˜"],
                "18ì¼": ["ìš°ë¦¬ì€í–‰ ì²´í—˜í˜• ì¸í„´ ì„œë¥˜", "êµë³´ì¦ê¶Œ ì¸í„´ ì‹¤ë¬´ ë©´ì ‘"],
                "19ì¼": ["ì§€ì—­ë†í˜‘ í†µê³„ ì¸í„´ ìµœì¢…", "í€ë“œíˆ¬ììë¬¸ì‚¬ ì¸ë ¥"],
                "20ì¼": ["ìˆ˜í˜‘ì¤‘ì•™íšŒ ì„œë¥˜"],
                "21ì¼": ["ì¬ê²½ê´€ë¦¬ì‚¬", "ATìê²© ì‹œí—˜"],
                "22ì¼": [],
                "23ì¼": ["ìš°ë¦¬ì€í–‰ ì²´í—˜í˜• ì¸í„´ ë©´ì ‘"],
                "24ì¼": ["ìš°ë¦¬ìì‚°ìš´ìš© ìµœì¢…"],
                "25ì¼": [],
                "26ì¼": ["ì‹ í˜‘ì¤‘ì•™íšŒ ì„œë¥˜"],
                "27ì¼": ["ì¬ê²½ê´€ë¦¬ì‚¬"],
                "28ì¼": ["í…Œì…‹"]
            }
        }

        # ë°ì´í„°ë¥¼ ì´ë²¤íŠ¸ë¡œ ë³€í™˜
        for day, events in calendar_data["12ì›”"].items():
            if events:  # ì´ë²¤íŠ¸ê°€ ìˆëŠ” ê²½ìš°ì—ë§Œ ì¶”ê°€
                date = f"2024-12-{int(day[:-1]):02d}"  # "1ì¼" -> "2024-12-01"
                for event in events:
                    self.calendar_events.append(
                        {
                            "title": event,
                            "start": date,  # ì‹œê°„ ì œì™¸
                        }
                    )

    def render(self):
        st.title("ğŸ“…ê¸ˆìœµê¶Œ ì±„ìš©&ìê²©ì¦ ìº˜ë¦°ë”")
        calendar(events=self.calendar_events, options=self.calendar_options)


if __name__ == "__main__":
    app = CalendarApp()
    app.render()
